---
id: d3
name: D3.js
category: Frontend
level: solid
---

# D3.js

Biblioteca para visualización de datos con manipulación DOM.

## Uso en proyectos

- **RameauJazz Web App** - Force-directed graph de transiciones armónicas

## Conceptos clave

### Selecciones
```javascript
import * as d3 from 'd3'

d3.select('svg')
  .selectAll('circle')
  .data(datos)
  .join('circle')
  .attr('r', d => d.value)
  .attr('fill', d => colorScale(d.category))
```

### Force Simulation
```javascript
const simulation = d3.forceSimulation(nodes)
  .force('link', d3.forceLink(links).id(d => d.id).distance(80))
  .force('charge', d3.forceManyBody().strength(-200))
  .force('center', d3.forceCenter(width / 2, height / 2))
  .force('collision', d3.forceCollide().radius(30))

simulation.on('tick', () => {
  // Actualizar posiciones
  nodeGroup.attr('transform', d => `translate(${d.x},${d.y})`)
})
```

### Drag Behavior
```javascript
const drag = d3.drag()
  .on('start', (event) => {
    simulation.alphaTarget(0.3).restart()
    event.subject.fx = event.subject.x
    event.subject.fy = event.subject.y
  })
  .on('drag', (event) => {
    event.subject.fx = event.x
    event.subject.fy = event.y
  })
  .on('end', (event) => {
    simulation.alphaTarget(0)
    event.subject.fx = null
    event.subject.fy = null
  })

nodes.call(drag)
```

### Scales
```javascript
const colorScale = d3.scaleOrdinal()
  .domain(['T', 'SD', 'D'])
  .range(['#3fb950', '#d29922', '#f85149'])
```

## Recursos

- [D3.js Docs](https://d3js.org/)
- [Observable D3](https://observablehq.com/@d3)
